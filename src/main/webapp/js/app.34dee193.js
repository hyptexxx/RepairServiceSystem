(function(t){function e(e){for(var n,a,s=e[0],c=e[1],u=e[2],l=0,f=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},o={0:0},i=[];function a(t){return s.p+"js/"+({}[t]||t)+"."+{2:"ef86c719"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r=o[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=a(t);var u=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(l);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,r[1](u)}o[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=u;i.push([0,1]),r()})({0:function(t,e,r){t.exports=r("2f39")},"0047":function(t,e,r){},"2f39":function(t,e,r){"use strict";r.r(e);r("ac1f"),r("5319"),r("96cf");var n=r("c973"),o=r.n(n),i=(r("5c7d"),r("7d6e"),r("e54f"),r("985d"),r("0047"),r("2b0e")),a=r("1f91"),s=r("42d2"),c=r("b05d"),u=r("2a19"),l=r("18d6");i["a"].use(c["a"],{config:{},lang:a["a"],iconSet:s["a"],plugins:{Notify:u["a"],LocalStorage:l["a"]}});var p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"q-app"}},[r("router-view")],1)},f=[],d=r("60a3"),h=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e=b([d["a"]],e),e}(d["c"]),g=y,v=g,m=r("2877"),w=Object(m["a"])(v,p,f,!1,null,null,null),_=w.exports,q=r("4bde"),x=r("2f62"),O={namespaced:!0,state:function(){return{loginned:!1,user:{}}},mutations:{setLoginned:function(t,e){t.loginned=e},setResponseUser:function(t,e){t.user=e}},actions:{},modules:{},getters:{getLoginned:function(t){return t.loginned},getResponseUser:function(t){return t.user}}},k=O,j=Object(q["store"])((function(t){var e=t.Vue;e.use(x["a"]);var r=new x["a"].Store({modules:{LoginModule:k},strict:!1});return r})),P=r("8c4f"),R=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checkLoggedIn=function(t,e,r){l["a"].getItem("isLogged")?r():r("/login")},e.checkNotLoggedIn=function(t,r,n){var o=l["a"].getItem("user");if(o)if(l["a"].getItem("isLogged")){switch(o.roleDescription){case"USER":n("/request");break;case"ADMIN":n("/administration");break}n()}else e.$q.notify({color:"negative",message:"Недостаточно прав",icon:"report_problem",progress:!0,position:"bottom"}),n();else n()},e.defaultRedirect=function(t,r,n){var o=l["a"].getItem("user");if(o)if(l["a"].getItem("isLogged")){switch(o.roleDescription){case"USER":n("/request");break;case"ADMIN":n("/administration");break}n()}else e.$q.notify({color:"negative",message:"Недостаточно прав",icon:"report_problem",progress:!0,position:"bottom"}),n("/login");else n("/login")},e.checkNotLoggedInAtMain=function(t,r,n){var o=l["a"].getItem("user");o?"USER"===o.roleDescription&&l["a"].getItem("isLogged")?n():(e.$q.notify({color:"negative",message:"Недостаточно прав",icon:"report_problem",progress:!0,position:"bottom"}),n("/login")):n("/login")},e.checkNotLoggedInAtAdmin=function(t,r,n){var o=l["a"].getItem("user");o?"ADMIN"===o.roleDescription&&l["a"].getItem("isLogged")?n():(e.$q.notify({color:"negative",message:"Недостаточно прав",icon:"report_problem",progress:!0,position:"bottom"}),n("/login")):n("/login")},e}return R(e,t),e}(d["c"]),L=S,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-page-container",[r("router-view")],1)],1)},$=[],I=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e=Q([d["a"]],e),e}(d["c"]),A=D,E=A,U=r("4d5a"),M=r("09e3"),T=r("eebe"),N=r.n(T),F=Object(m["a"])(E,C,$,!1,null,null,null),G=F.exports;N()(F,"components",{QLayout:U["a"],QPageContainer:M["a"]});var V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"row items-center justify-evenly"},[r("login-form")],1)},B=[],H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"flex flex-center bg-black",staticStyle:{width:"100%"}},[r("div",{staticClass:"q-pa-md row justify-center"},[r("q-card",{staticClass:"bg-grey-10 my-card q-dark",attrs:{bordered:""}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v("Вход")])]),r("q-separator",{attrs:{dark:""}}),r("q-card-section",{staticStyle:{width:"300px",height:"170px"}},[r("q-input",{attrs:{label:"Логин",dark:"",name:"login"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authorizeUser(e)}},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),!t.$v.login.required&&t.$v.login.$params.required?r("span",{staticClass:"error-label"},[t._v("Обязательно")]):t._e(),r("q-input",{attrs:{label:"Пароль",dark:"",type:"password",name:"password"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authorizeUser(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),!t.$v.password.required&&t.$v.password.$params.required?r("span",{staticClass:"error-label"},[t._v("Обязательно")]):t._e()],1),r("div",{staticClass:"row justify-end"},[r("q-btn",{staticClass:"q-mr-md q-mb-md",attrs:{label:"Войти"},on:{click:t.authorizeUser}})],1)],1)],1)])},z=[],J=r("1dce"),K=r("b5ae"),W={login:{required:K["required"]},password:{required:K["required"]}},X=r("2fe1"),Y=r("4bb5"),Z=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tt=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},et=Object(Y["a"])("LoginModule"),rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),tt([et.Mutation("setLoginned")],e.prototype,"setLoginned",void 0),tt([et.Mutation("setResponseUser")],e.prototype,"setResponseUser",void 0),tt([et.Getter("getLoginned")],e.prototype,"loginned",void 0),tt([et.Getter("getResponseUser")],e.prototype,"responseUser",void 0),e=tt([X["b"]],e),e}(i["a"]),nt=rt,ot=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},at=function(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n["throw"](t))}catch(e){i(e)}}function c(t){t.done?r(t.value):o(t.value).then(a,s)}c((n=n.apply(t,e||[])).next())}))},st=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.login="",e.password="",e.user={login:"test",roleDescription:"hr",id:12},e}return ot(e,t),e.prototype.authorizeUser=function(){return at(this,void 0,Promise,(function(){var t,e,r,n;return st(this,(function(o){switch(o.label){case 0:return this.$v.$touch(),this.$v.$anyError?[3,10]:(t=new FormData,t.append("login",this.login),t.append("password",this.password),[4,this.$axios.post("/auth",t)]);case 1:switch(e=o.sent(),r=e.status,r){case 200:return[3,2]}return[3,9];case 2:switch(n=e.data.roleDescription,n){case"ADMIN":return[3,3];case"USER":return[3,5]}return[3,7];case 3:return this.setLocalStorageAndStoreUser(e),[4,this.$router.push({name:"administration"})];case 4:return o.sent(),[3,9];case 5:return this.setLocalStorageAndStoreUser(e),[4,this.$router.push({name:"main"})];case 6:return o.sent(),[3,9];case 7:return[4,this.$router.push({name:"login"})];case 8:return o.sent(),[3,9];case 9:return[3,11];case 10:this.$q.notify({color:"negative",message:"Поля не заполнены",icon:"report_problem",progress:!0,position:"bottom"}),o.label=11;case 11:return[2]}}))}))},e.prototype.setLocalStorageAndStoreUser=function(t){this.$q.localStorage.set("isLogged",!0),this.$q.localStorage.set("user",t.data),this.setLoginned(!0),this.setResponseUser(t.data)},e=it([Object(d["a"])({mixins:[J["validationMixin"]],validations:W})],e),e}(Object(d["b"])(nt)),ut=ct,lt=ut,pt=r("9989"),ft=r("f09f"),dt=r("a370"),ht=r("eb85"),bt=r("27f9"),yt=r("9c40"),gt=Object(m["a"])(lt,H,z,!1,null,null,null),vt=gt.exports;N()(gt,"components",{QPage:pt["a"],QCard:ft["a"],QCardSection:dt["a"],QSeparator:ht["a"],QInput:bt["a"],QBtn:yt["a"]});var mt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wt=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mt(e,t),e=wt([Object(d["a"])({components:{LoginForm:vt}})],e),e}(d["c"]),qt=_t,xt=qt,Ot=Object(m["a"])(xt,V,B,!1,null,null,null),kt=Ot.exports;N()(Ot,"components",{QPage:pt["a"]});var jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{attrs:{view:"hHh lpR fFf"}},[r("q-header",{staticClass:"bg-primary text-white",attrs:{elevated:""}},[r("q-toolbar",[r("q-toolbar-title",[r("q-avatar"),t._v("          Сервис ремонта и технического обслуживания")],1),r("div",{staticClass:"row q-ml-auto"},[r("q-btn",{attrs:{outline:"",label:"Выход"},on:{click:t.logoutEvent}})],1)],1)],1),r("q-page-container",[r("div",{staticClass:"row items-start q-gutter-md"},[r("q-card",{staticClass:"col",attrs:{flat:"",bordered:""}},[r("q-item",[r("q-item-section",[r("q-item-label",[t._v("У вас обнаружены проблемы?")]),r("q-item-label",{attrs:{caption:""}},[t._v("Оставьте краткую заявку, оператор свяжется с вами для обсуждения вариантов решения вашей проблемы.")])],1)],1),r("q-separator"),r("q-responsive",{attrs:{ratio:16/7}},[r("q-card-section",{staticClass:"border-radius-inherit flex flex-center bg-grey-1"},[r("q-card",{staticClass:"my-card bg-white text-black",staticStyle:{width:"100%"}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v("Ваша заявка на обслуживание")]),r("div",{staticClass:"text-subtitle2"},[t._v("заполните поля")])]),r("q-separator",{attrs:{dark:""}}),r("q-input",{attrs:{color:"black","bg-color":"white",filled:"",label:"Ваше имя"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"event"}})]},proxy:!0}]),model:{value:t.user.login,callback:function(e){t.$set(t.user,"login",e)},expression:"user.login"}}),r("q-input",{attrs:{color:"black","bg-color":"white",filled:"",label:"Введите описание проблемы"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"event"}})]},proxy:!0}]),model:{value:t.requestDescription,callback:function(e){t.requestDescription=e},expression:"requestDescription"}}),r("q-card-actions",[r("q-btn",{staticClass:"bg-green text-white",on:{click:t.sendRepairRequest}},[t._v("Отправить")])],1)],1)],1)],1)],1),r("q-card",{staticClass:"col",attrs:{flat:"",bordered:""}},[r("q-item",[r("q-item-section",[r("q-item-label",[t._v("Наше доступное оборудование и ПО")]),r("q-item-label",{attrs:{caption:""}},[t._v("В наличии")])],1)],1),r("q-separator"),r("q-responsive",{attrs:{ratio:1}},[r("q-card-section",{staticClass:"border-radius-inherit flex flex-center bg-grey-1"},t._l(10,(function(e){return r("q-card",{staticClass:"my-card bg-white text-black",staticStyle:{width:"100%"}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v("Пример оборудования")]),r("div",{staticClass:"text-subtitle2"},[t._v("Пример описания оборудования")])])],1)})),1)],1)],1)],1)])],1)},Pt=[],Rt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),St=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},Lt=function(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n["throw"](t))}catch(e){i(e)}}function c(t){t.done?r(t.value):o(t.value).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Ct=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rt(e,t),e.prototype.logout=function(){return Lt(this,void 0,Promise,(function(){var t;return Ct(this,(function(e){switch(e.label){case 0:return[4,this.$axios.post("/logout")];case 1:return t=e.sent(),200!==t.status?[3,3]:(this.$q.localStorage.clear(),this.setLoginned(!1),this.setResponseUser(null),this.$q.localStorage.remove("isLogged"),[4,this.$router.push({name:"login"})]);case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype.getAllRequests=function(){return Lt(this,void 0,Promise,(function(){var t;return Ct(this,(function(e){switch(e.label){case 0:return[4,this.$axios.get("/repair_request")];case 1:return t=e.sent(),[2,t.data]}}))}))},e.prototype.getAllStatuses=function(){return Lt(this,void 0,Promise,(function(){var t;return Ct(this,(function(e){switch(e.label){case 0:return[4,this.$axios.get("/statuses")];case 1:return t=e.sent(),[2,t.data]}}))}))},e.prototype.setNewStatus=function(t){return Lt(this,void 0,Promise,(function(){var e,r;return Ct(this,(function(n){switch(n.label){case 0:return console.log(t),e=new FormData,e.append("repairRequest",JSON.stringify(t)),[4,this.$axios.post("/repair_request/status",e)];case 1:return r=n.sent(),[2,r.data]}}))}))},e=St([d["a"]],e),e}(Object(d["b"])(nt)),It=$t,Qt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dt=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},At=function(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n["throw"](t))}catch(e){i(e)}}function c(t){t.done?r(t.value):o(t.value).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Et=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.requestDescription="",e.user={login:"test",roleDescription:"hr",id:12345},e}return Qt(e,t),e.prototype.logoutEvent=function(){return At(this,void 0,Promise,(function(){return Et(this,(function(t){switch(t.label){case 0:return[4,this.logout()];case 1:return t.sent(),[2]}}))}))},e.prototype.mounted=function(){this.user=this.$q.localStorage.getItem("user")},e.prototype.sendRepairRequest=function(){return At(this,void 0,Promise,(function(){var t,e;return Et(this,(function(r){switch(r.label){case 0:return t=new FormData,this.user&&(this.repairRequestModel={id:0,userId:this.user.id,userLogin:this.user.login,description:this.requestDescription,date:(new Date).getTime(),statusId:1,statusDescription:""}),t.append("repairRequest",JSON.stringify(this.repairRequestModel)),[4,this.$axios.post("/repair_request",t)];case 1:return e=r.sent(),200===e.status?this.$q.notify({type:"positive",message:"Заявка отправлена на рассмотрение, с вами свяжется оператор.",icon:"report_problem",position:"bottom"}):this.$q.notify({type:"negative",message:"Произошла ошибка",icon:"report_problem",position:"bottom"}),[2]}}))}))},e=Dt([d["a"]],e),e}(Object(d["b"])(nt,It)),Mt=Ut,Tt=Mt,Nt=r("e359"),Ft=r("65c6"),Gt=r("6ac5"),Vt=r("cb32"),Bt=r("66e5"),Ht=r("4074"),zt=r("0170"),Jt=r("0e51"),Kt=r("0016"),Wt=r("4b7e"),Xt=Object(m["a"])(Tt,jt,Pt,!1,null,null,null),Yt=Xt.exports;N()(Xt,"components",{QLayout:U["a"],QHeader:Nt["a"],QToolbar:Ft["a"],QToolbarTitle:Gt["a"],QAvatar:Vt["a"],QBtn:yt["a"],QPageContainer:M["a"],QCard:ft["a"],QItem:Bt["a"],QItemSection:Ht["a"],QItemLabel:zt["a"],QSeparator:ht["a"],QResponsive:Jt["a"],QCardSection:dt["a"],QInput:bt["a"],QIcon:Kt["a"],QCardActions:Wt["a"]});var Zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{attrs:{view:"hHh lpR fFf"}},[r("q-header",{staticClass:"bg-primary text-white",attrs:{elevated:""}},[r("q-toolbar",[r("q-toolbar-title",[r("q-avatar"),t._v("          Сервис ремонта и технического обслуживания")],1),r("div",{staticClass:"row q-ml-auto"},[r("q-btn",{attrs:{outline:"",label:"Выход"},on:{click:t.logoutEvent}})],1)],1)],1),r("q-page-container",[r("q-card",{staticClass:"my-card",attrs:{flat:"",bordered:""}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v("Текущие заявки.")])]),r("q-card-section",{staticClass:"q-pt-none"},[t._v("Текущие заявки на обслуживание.\nВыберите статус любой из заявок, если необходимо изменить его.")]),r("q-separator",{attrs:{inset:""}}),r("q-card-section",t._l(t.fullRequests,(function(e){return r("q-banner",{staticClass:"bg-grey-3 text-black",staticStyle:{width:"100%","margin-bottom":"40px"},attrs:{rounded:""}},[t._v(t._s(e.description)+"\n"+t._s(e.userLogin)+"\n"+t._s(e.date)),r("q-select",{staticStyle:{width:"200px"},attrs:{filled:"",options:e.statuses,label:"Текущий статус заявки","option-label":"description"},on:{input:t.onStatusChange,"popup-show":function(r){return t.prepareSend(e)}},model:{value:e.status,callback:function(r){t.$set(e,"status",r)},expression:"currRequest.status"}})],1)})),1)],1)],1)],1)},te=[],ee=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),re=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},ne=function(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n["throw"](t))}catch(e){i(e)}}function c(t){t.done?r(t.value):o(t.value).then(a,s)}c((n=n.apply(t,e||[])).next())}))},oe=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.request={id:0,userId:0,userLogin:"string",description:"string",date:0,statusId:0,statusDescription:"string"},e.statuses=[{description:"",id:0}],e.requests=[{id:0,userId:0,userLogin:"string",description:"string",date:0,statusId:0,statusDescription:"string"}],e.fullRequests=[],e}return ee(e,t),e.prototype.logoutEvent=function(){return ne(this,void 0,Promise,(function(){return oe(this,(function(t){switch(t.label){case 0:return[4,this.logout()];case 1:return t.sent(),[2]}}))}))},e.prototype.prepareSend=function(t){this.request={id:t.id,userId:t.userId,userLogin:t.userLogin,description:t.description,date:t.date,statusId:null,statusDescription:null}},e.prototype.onStatusChange=function(t){return ne(this,void 0,Promise,(function(){var e;return oe(this,(function(r){switch(r.label){case 0:return this.request={id:this.request.id,userId:this.request.userId,userLogin:this.request.userLogin,description:this.request.description,date:this.request.date,statusId:t.id,statusDescription:t.description},[4,this.setNewStatus(this.request)];case 1:return e=r.sent(),e&&this.$q.notify({type:"positive",message:"Статус изменён. Новое значение: "+t.description,icon:"report_problem",position:"bottom"}),[2]}}))}))},e.prototype.mounted=function(){return ne(this,void 0,Promise,(function(){var t,e,r=this;return oe(this,(function(n){switch(n.label){case 0:return t=this,[4,this.getAllRequests()];case 1:return t.requests=n.sent(),e=this,[4,this.getAllStatuses()];case 2:return e.statuses=n.sent(),this.requests.length&&this.statuses.length&&(this.fullRequests.splice(0,this.fullRequests.length),this.requests.forEach((function(t){r.fullRequests.push({id:t.id,userId:t.userId,userLogin:t.userLogin,description:t.description,date:t.date,status:{description:t.statusDescription,id:t.statusId},statuses:r.statuses})}))),[2]}}))}))},e=re([d["a"]],e),e}(Object(d["b"])(nt,It)),ae=ie,se=ae,ce=r("54e1"),ue=r("ddd8"),le=Object(m["a"])(se,Zt,te,!1,null,null,null),pe=le.exports;N()(le,"components",{QLayout:U["a"],QHeader:Nt["a"],QToolbar:Ft["a"],QToolbarTitle:Gt["a"],QAvatar:Vt["a"],QBtn:yt["a"],QPageContainer:M["a"],QCard:ft["a"],QCardSection:dt["a"],QSeparator:ht["a"],QBanner:ce["a"],QSelect:ue["a"]});var fe=new L,de=[{path:"/",name:"dafault",beforeEnter:fe.defaultRedirect},{path:"/request",name:"main",component:Yt,beforeEnter:fe.checkNotLoggedInAtMain},{path:"/administration",name:"administration",component:pe,beforeEnter:fe.checkNotLoggedInAtAdmin},{path:"/login",component:G,name:"login",beforeEnter:fe.checkNotLoggedIn,children:[{name:"login",path:"",component:kt}]},{path:"*",component:function(){return r.e(2).then(r.bind(null,"e51e"))}}],he=de,be=Object(q["route"])((function(t){var e=t.Vue;e.use(P["a"]);var r=new P["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:he,mode:"history",base:"/"});return r})),ye=function(){return ge.apply(this,arguments)};function ge(){return ge=o()(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof j){t.next=6;break}return t.next=3,j({Vue:i["a"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=j;case 7:if(e=t.t0,"function"!==typeof be){t.next=14;break}return t.next=11,be({Vue:i["a"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=be;case 15:return r=t.t1,e.$router=r,n={router:r,store:e,render:function(t){return t(_)}},n.el="#q-app",t.abrupt("return",{app:n,store:e,router:r});case 20:case"end":return t.stop()}}),t)}))),ge.apply(this,arguments)}var ve=r("bc3a"),me=r.n(ve),we=function(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n["throw"](t))}catch(e){i(e)}}function c(t){t.done?r(t.value):o(t.value).then(a,s)}c((n=n.apply(t,e||[])).next())}))},_e=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},qe={baseURL:"api/v1/"},xe=me.a.create(qe),Oe=Object(q["boot"])((function(t){var e=t.Vue,r=t.router;e.prototype.$axios=me.a,xe.interceptors.response.use((function(t){return t}),(function(t){return we(void 0,void 0,void 0,(function(){var e;return _e(this,(function(n){return e=t.response,e?(401!==e.status&&403!==e.status||(u["a"].create({color:"negative",progress:!0,caption:"Пожалуйста, авторизируйтесь",message:"Авторизация",icon:"report_problem",position:"bottom"}),l["a"].remove("isLogged"),r.push({name:"login"}).then((function(){return null}),(function(){return null}))),404===e.status&&u["a"].create({color:"negative",progress:!0,caption:"Ничего не найдено",message:"По запросу ничего не найдено",icon:"report_problem",position:"bottom"}),500===e.status&&u["a"].create({color:"negative",progress:!0,caption:"Произошла внутренняя ошибка сервера",message:"Внутренняя ошибка",icon:"report_problem",position:"bottom"}),e.data.reason&&e.data.reason&&u["a"].create({color:"negative",progress:!0,caption:e.data.reason,message:e.data.status,icon:"report_problem",position:"bottom"}),[2,e]):[2,Promise.reject(t)]}))}))}));var n=e;n.prototype.$axios=xe})),ke="/";function je(){return Pe.apply(this,arguments)}function Pe(){return Pe=o()(regeneratorRuntime.mark((function t(){var e,r,n,o,a,s,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ye();case 2:e=t.sent,r=e.app,n=e.store,o=e.router,a=!1,s=function(t){a=!0;var e=Object(t)===t?o.resolve(t).route.fullPath:t;window.location.href=e},c=window.location.href.replace(window.location.origin,""),u=[Oe],l=0;case 11:if(!(!1===a&&l<u.length)){t.next=29;break}if("function"===typeof u[l]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,u[l]({app:r,router:o,store:n,Vue:i["a"],ssrContext:null,redirect:s,urlPath:c,publicPath:ke});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:l++,t.next=11;break;case 29:if(!0!==a){t.next=31;break}return t.abrupt("return");case 31:new i["a"](r);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),Pe.apply(this,arguments)}je()}});